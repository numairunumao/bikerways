function customRange(){var a=jQuery,b=this;this.init=function(){a(".customRange").each(function(){var c=a(this);b.defaultPosition(c),c.find(".draggablePoint").draggable({drag:function(){var d=a(this).position().left+15,e=0;c.find(".range_draggable").css({width:parseInt(d)+"px"}),e=b.calculateCurrentRangeValue(c,d)},axis:"x",containment:c})})},this.calculateCurrentRangeValue=function(a,b){var c=a,d=c.width(),e=c.data("maxval"),f=Math.round(b*e/d);return f=f>e?e:f,c.find(".rangeVal").text(f),c.find('input[type="hidden"]').val(f),f},this.defaultPosition=function(a){var c=a.data("defaultpos"),d=0;a.find(".range_draggable").css({width:c+"%"}),d=parseInt(a.find(".draggablePoint").position().left),b.calculateCurrentRangeValue(a,d)}}function posts_block_container(){var a=jQuery,b=!1,c=this;return this.check_container_block_width=function(){if(a(".lscf-grid-view").length>0){b=!0;var c=a(".lscf-grid-view").width();c<800?a(".lscf-grid-view").addClass("small-view"):a(".lscf-grid-view").removeClass("small-view"),c>840?a(".lscf-grid-view").addClass("large-view"):a(".lscf-grid-view").removeClass("large-view")}},function(){c.check_container_block_width(),b||setTimeout(function(){c.check_container_block_width()},400)}}function pxFilterFieldsAction(){var a,b=jQuery,c=this;this.reset_fields=function(){b(".pxSelectField").each(function(){b(this).hasClass("active-val")&&b(this).find('.options .lscf-dropdown-option[rel="0"]').trigger("click")}),b(".pxDateField").each(function(){b(this).find(".initCalendar").val("")}),b(".pxCheckField").each(function(){b(this).find(".px_checkboxesList .px_checkbox").each(function(){b(this).removeClass("active")})}),b(".pxRadioField").each(function(){b(this).find('.px_checkbox-li input[type="radio"]').each(function(){b(this).removeAttr("checked")})}),b(".subcategs-tax").hide()},this.mobileExpandFilter=function(){b(".px-filter-label-mobile").on("click",function(){var a=b(".px-field-wrapper-container").height()+140;b(".px-capf-wrapper").css({"min-height":a+200+"px"}),b(".px-fiels-wrapper").hasClass("active")?(b(".px-fiels-wrapper").removeClass("ready"),b(".px-fiels-wrapper").animate({height:"41px"},400,function(){b(this).removeClass("active")})):(b(".px-fiels-wrapper").addClass("active"),b(".px-fiels-wrapper").animate({height:a},300,function(){b(this).addClass("ready")}))})},this.initSeeMore=function(){b(".lscf-see-more").on("click",function(){var a=b(this).closest(".px_capf-field");a.hasClass("active")?(b(this).text(capfData.options.writing.see_more),a.removeClass("active")):(b(this).text(capfData.options.writing.see_less),a.addClass("active"))})},this.reset_subcategs=function(a,c){return"undefined"==typeof c&&(c=!1),!0===c?(a.find(".pxSelectField").each(function(){b(this).removeClass("active-val"),b(this).find(".styledSelect").text("Select")}),a.find(".pxCheckField").each(function(){b(this).find(".px_checkboxesList .px_checkbox").each(function(){b(this).removeClass("active")})}),void a.find(".pxRadioField").each(function(){b(this).find('.px_checkbox-li input[type="radio"]').each(function(){b(this).removeAttr("checked")})})):(a.find(".subcategs-tax .pxSelectField").each(function(){b(this).removeClass("active-val"),b(this).find(".styledSelect").text("Select")}),a.find(".subcategs-tax .pxCheckField").each(function(){b(this).find(".px_checkboxesList .px_checkbox").each(function(){b(this).removeClass("active")})}),void a.find(".subcategs-tax .pxRadioField").each(function(){b(this).find('.px_checkbox-li input[type="radio"]').each(function(){b(this).removeAttr("checked")})}))},this.reset_subcategs_data=function(a,c,d,e){return"undefined"!=typeof e?(a.find(".px_capf-subfield").each(function(a){if(a>e){b(this).removeClass("active-val"),b(this).find(".styledSelect").text("Select");var f="0";if("px_check_box"==d.filterAs||"px_icon_check_box"==d.filterAs){var g=[];g[0]="0",f=g}c.push({ID:b(this).data("id"),value:f,type:d.type,filter_as:d.filterAs,group_type:d.group_type,variation_id:d.variation_id})}}),c):(a.find(".px_capf-subfield").each(function(a){var e="0";if("px_check_box"==d.filterAs||"px_icon_check_box"==d.filterAs){var f=[];f[0]="0",e=f}c.push({ID:b(this).data("id"),value:e,type:d.type,filter_as:d.filterAs,group_type:d.group_type,variation_id:d.variation_id})}),c)},this.construct=function(b){a=setInterval(function(){c.init(b)},500),setTimeout(function(){clearInterval(a)},1100)},this.init=function(a){c.pxSelect(a),c.pxDate(a),c.pxDateInterval(a),c.pxCheckbox(a),c.pxRadiobox(a),c.mobileExpandFilter(),setTimeout(function(){c.initSeeMore()},2e3)},this.pxSelect=function(d){b(".pxSelectField").ready(function(){clearInterval(a),b(".pxSelectField").each(function(){var a=b(this).data("id"),e=b(this),f=b(this).closest(".lscf-group-type").attr("data-group-type"),g=b(this).closest(".lscf-variation-field").length>0?b(this).closest(".lscf-variation-field").attr("data-variation-id"):null,h=b(this).attr("data-filter-as");if("undefined"!=typeof h&&!1!==h)var i=h;else var i="select";var j={filterAs:i,group_type:f,variation_id:g,type:"select"},k=b(this);b(this).find(".options .lscf-dropdown-option").click(function(){var h=b(this).attr("rel"),l=[];if(0==h){if(k.hasClass("px_capf-subfield")){var m=parseInt(k.closest(".subcategs-tax").attr("data-index"));l=c.reset_subcategs_data(e.closest(".lscf-taxonomies-fields"),l,j,m)}else c.reset_subcategs(e.closest(".lscf-taxonomies-fields")),l=c.reset_subcategs_data(e.closest(".lscf-taxonomies-fields"),l,j);e.removeClass("active-val")}else e.addClass("active-val"),k.hasClass("px_capf-subfield")||(c.reset_subcategs(e.closest(".lscf-taxonomies-fields")),e.closest(".lscf-taxonomies-fields").find(".px_capf-subfield").each(function(a){var c="0",d=b(this).data("id").match(/(.+?)_-_([0-9]+)$/);if(parseInt(d[2])!=parseInt(h)){if("px_check_box"==i||"px_icon_check_box"==i){var e=[];e[0]="0",c=e}l.push({ID:b(this).data("id"),value:c,type:"select",filter_as:i,group_type:f,variation_id:g})}}));if("px_check_box"==i||"px_icon_check_box"==i){var n=[];n[0]=h,h=n}l.push({ID:a,value:h,type:"select",filter_as:i,group_type:f,variation_id:g}),d(l)})})})},this.pxDate=function(c){b(".pxDateField").ready(function(){clearInterval(a),b(".pxDateField").each(function(){var a=b(this).data("id"),d=b(this).attr("data-alternative");b(this).find('input[type="text"]').blur(function(){var d=b(this).val();if(""===d&&!b(this).hasClass("empty")){var e={ID:a,value:"",type:"date"};c(e),b(this).addClass("empty")}}),b(this).find('input[type="text"]').datepicker({altField:"."+d,altFormat:"mm/dd/yy",onSelect:function(e){var f={ID:a,value:b("."+d).val(),type:"date"};b(this).removeClass("empty"),c(f)}})})})},this.pxDateInterval=function(c){b(".pxDateIntervalField").ready(function(){clearInterval(a),b(".pxDateIntervalField").each(function(){var a=b(this).data("id"),d={type:"date-interval",ID:a,fields:{from:"",to:""}};b(this).find('input[type="text"]').each(function(a){var e=b(this).attr("data-alternative");b(this).datepicker({altField:"."+e,altFormat:"mm/dd/yy",onSelect:function(a){d.fields[b(this).data("type")]={value:b("."+e).val()},c(d)}})})})})},this.pxCheckbox=function(d){b(".pxCheckField").find("label.px_checkbox").ready(function(){clearInterval(a);var e=new Array;b(".px-capf-wrapper").on("click","#lscf-reset-filters",function(){for(var a in e)e[a]=[]}),b(".pxCheckField").each(function(a){var f=b(this).attr("data-filter-as"),g=b(this).closest(".lscf-group-type").attr("data-group-type"),h=b(this).closest(".lscf-variation-field").length>0?b(this).closest(".lscf-variation-field").attr("data-variation-id"):null,i=b(this);if("undefined"!=typeof f&&!1!==f)var j=f;else var j="px_check-box";var k=b(this).data("type"),l=b(".pxCheckField").eq(a).data("id");b(".pxCheckField").eq(a).find("label.px_checkbox").each(function(f){e[a]=new Array,b(this).click(function(m){m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),b(this).toggleClass("active");var n=b(".pxCheckField").eq(a).find(".px_checkboxInput").eq(f).val(),o=[];if(b(this).hasClass("active"))e[a].push(n);else{if(i.hasClass("px_tax-field")&&!i.hasClass("px_capf-subfield"))b(".lscf-subcategory-child-of-"+n).each(function(a){c.reset_subcategs(b(this),!0);var d=b(this).find(".px_capf-subfield").data("id");o.push({ID:d,value:[],type:k,filter_as:j,group_type:g,variation_id:h})});else if(i.hasClass("px_capf-subfield")){var p=i.data("index"),q=i.closest(".subcategs-tax").data("classname");b("."+q).each(function(a){var d=b(this).find(".px_capf-subfield").data("id"),a=b(this).find(".px_capf-subfield").data("index");parseInt(p)<parseInt(a)&&(c.reset_subcategs(b(this),!0),o.push({ID:d,value:[],type:k,filter_as:j,group_type:g,variation_id:h}))})}var r=e[a].indexOf(n);r>-1&&e[a].splice(r,1)}return o.push({ID:l,value:e[a],type:k,filter_as:j,group_type:g,variation_id:h}),d(o),!1})})})})},this.pxRadiobox=function(d){b(".pxRadioField").ready(function(){clearInterval(a),b(".pxRadioField").each(function(){var a=b(this).data("id"),e=b(this),f=b(this).closest(".lscf-group-type").attr("data-group-type"),g=b(this).closest(".lscf-variation-field").length>0?b(this).closest(".lscf-variation-field").attr("data-variation-id"):null,h=b(this).attr("data-filter-as");if("undefined"!=typeof h&&!1!==h)var i=h;else var i="radio";b(this).find(".pxRadioLabel").each(function(h){b(this).click(function(){var j=e.find("input[type=radio]").eq(h).val(),k=[];if(0==j)if(e.hasClass("px_tax-field")&&!e.hasClass("px_capf-subfield"))c.reset_subcategs(e.closest(".lscf-taxonomies-fields")),e.closest(".lscf-taxonomies-fields").find(".pxRadioField").each(function(){k.push({ID:b(this).data("id"),value:0,type:"radio",filter_as:i,group_type:f,variation_id:g})});else if(e.hasClass("px_capf-subfield")){var l=parseInt(e.closest(".subcategs-tax").attr("data-index"));e.closest(".lscf-taxonomies-fields").find(".px_capf-subfield.pxRadioField").each(function(a){a>l&&k.push({ID:b(this).data("id"),value:0,type:"radio",filter_as:i,group_type:f,variation_id:g})})}if("px_check_box"==i||"px_icon_check_box"==i){var m=[];m[0]=j,j=m}e.hasClass("px_capf-subfield")||(c.reset_subcategs(e.closest(".lscf-taxonomies-fields")),e.closest(".lscf-taxonomies-fields").find(".px_capf-subfield").each(function(a){var c="0",d=b(this).data("id").match(/(.+?)_-_([0-9]+)$/);if(parseInt(d[2])!=parseInt(j)){if("px_check_box"==i||"px_icon_check_box"==i){var e=[];e[0]="0",c=e}k.push({ID:b(this).data("id"),value:c,type:"radio",filter_as:i,group_type:f,variation_id:g})}})),k.push({ID:a,value:j,type:"radio",filter_as:i,group_type:f,variation_id:g}),d(k)})})})})}}function px_customRange(){var a,b=jQuery,c=this;this.construct=function(b){a=setInterval(function(){c.init(b)},500),setTimeout(function(){clearInterval(a)},1100)},this.init=function(d){b(".customRange").ready(function(){clearInterval(a),b(".customRange").each(function(a){var e=b(this),f=0,g=b(".pxRangeField").eq(a).data("id"),h=e.find(".rangeVal").data("labelval"),i={min:0,max:parseInt(e.data("maxval"))};c.defaultPosition(e),e.find(".draggablePoint").draggable({drag:function(a){var d=b(this).position().left<30?b(this).position().left:b(this).position().left+15;e.find(".range_draggable").css({width:parseInt(d)-e.find(".startPoint").position().left+"px"}),e.find(".range_draggable").attr("data-width",parseInt(d)),f=c.calculateCurrentRangeValue(e,d),e.attr("data-value",f),e.find(".rangeVal").text(h+f),e.find('input[type="hidden"]').val(f),i.max=f},axis:"x",stop:function(){var a={ID:g,value:i,type:"range"};d(a)},containment:e}),e.find(".startDraggablePoint").draggable({drag:function(){var a=b(this).position().left,d=e.find(".range_draggable").attr("data-width"),f="-1"!=d?d:e.find(".range_draggable").width(),g=0;"-1"==d&&e.find(".range_draggable").attr("data-width",e.find(".range_draggable").width()),g=c.calculateCurrentRangeValue(e,a),e.attr("data-value",g),e.find(".defaultVal").text(h+g),e.find(".range_draggable").css({width:f-a+"px",left:a+"px"}),i.min=g},axis:"x",containment:e,stop:function(){var a={ID:g,value:i,type:"range"};d(a)},containment:e})})})},this.calculateCurrentRangeValue=function(a,b){var c=a,d=c.width(),e=parseInt(c.data("maxval")),f=parseInt(c.data("minval")),g=Math.round(b*(e-f)/d);return g=f+g,g=g>e?e:g},this.defaultPosition=function(a){var b=a.data("defaultpos"),d=0;a.find(".range_draggable").css({width:b+"%"}),d=parseInt(a.find(".draggablePoint").position().left),c.calculateCurrentRangeValue(a,d)}}function customSelectBox(){var a,b=jQuery,c=this;this.construct=function(){a=setInterval(function(){c.init()},500),setTimeout(function(){clearInterval(a)},1100)},this.init=function(){b(".custom-select").ready(function(){clearInterval(a),b(".custom-select").each(function(){var a=b(this).attr("data-class"),c=b(this),d=b(this).children("option").length;c.addClass("s-hidden"),c.wrap('<div class="select '+a+'"></div>'),c.after('<div class="styledSelect"></div>');var e=c.next("div.styledSelect");e.text(c.children("option").eq(0).text());for(var f=b("<div />",{class:"options"}).insertAfter(e),g=0;g<d;g++){var h=0==g?"lscf-dropdown-option pxselect-hidden-list":"lscf-dropdown-option";0!==parseInt(c.children("option").eq(g).val())&&(h+=" lscf-field-option"),c.children("option").eq(g).attr("data-class")&&(h+=" "+c.children("option").eq(g).attr("data-class")),b("<div />",{text:c.children("option").eq(g).text(),rel:c.children("option").eq(g).val(),"data-index":c.children("option").eq(g).attr("data-index"),class:h}).appendTo(f)}var i=f.children(".lscf-dropdown-option");e.click(function(a){a.stopPropagation(),b("div.styledSelect.active").each(function(){b(this).removeClass("active").next("div.options").hide()}),b(this).toggleClass("active").next("div.options").toggle(),b(this).toggleClass("active").next("div.options").customScrollbar()}),i.click(function(a){a.preventDefault(),a.stopPropagation(),i.removeClass("pxselect-hidden-list"),b(this).addClass("pxselect-hidden-list"),e.text(b(this).text()).removeClass("active"),c.val(b(this).attr("rel")),f.hide()}),b(".lscf-container").on("click",function(a){b("body").hasClass("not-selectable")||(e.removeClass("active"),f.hide())})})})}}function lscfPosts(){var a,b=jQuery,c=this;this.constructHover=function(){a=setInterval(function(){c.blockPosts_hover()},500),setTimeout(function(){clearInterval(a)},1100)},this.init=function(){c.viewMode(),c.choseDisplayMode_ofListing()},this.viewMode=function(){b(".viewMode #blockView").on("click",function(){b(".viewMode div").removeClass("active"),b(this).addClass("active"),b("#lscf-posts-container-defaultTheme").addClass("block-view")}),b(".viewMode #listView").on("click",function(){b(".viewMode div").removeClass("active"),b(this).addClass("active"),b("#lscf-posts-container-defaultTheme").removeClass("block-view")})},this.choseDisplayMode_ofListing=function(){var a=b(window).width(),c=0;a<=768&&b(".viewMode #blockView").trigger("click"),b(window).resize(function(){var a=b(window).width(),d=a>768?0:1;c!=d&&(c=d,1==d&&b(".viewMode #blockView").trigger("click"))})},this.blockPosts_hover=function(){b(".post-list").ready(function(){clearInterval(a),b(".post-block, .post-list .post-featuredImage").each(function(){b(this).hover(function(){b(this).find(".post-overlay").addClass("active")},function(){b(this).find(".post-overlay").removeClass("active")})})})}}function lscfOrderFilterFields(){var a,b=this,c=jQuery;this.fieldsData,this.draggable={},this.draggable.unbindOrder=function(){c(".px-field-wrapper-container").sortable("destroy"),c(".lscf-filter-field").removeClass("lscf-draggable-field"),c(".subcategs-tax").hide()},this.draggable.initFilterFields=function(){return"undefined"!=typeof capfData.settings.is_administrator&&1===capfData.settings.is_administrator&&(c(".px-field-wrapper-container").sortable({axis:!1,items:".lscf-filter-field",update:function(a,c){b.orderFieldsData()}}),void(a=setInterval(function(){b.init()},300)))},this.draggable.unbindOptionOrder=function(){c(".lscf-filter-field").sortable("destroy")},this.draggable.initOptionOrder=function(){c(".lscf-filter-field").sortable({items:".lscf-field-option",update:function(a,c){var d=c.item.hasClass("lscf-hierarchy-subfield")?c.item.closest(".subcategs-tax"):c.item.closest(".lscf-filter-field");b.orderFieldsOptionsData(d,c.item)}})},this.orderFieldsOptionsData=function(a,d){var e=null,f=null,g=parseInt(a.attr("data-index"));if(g=a.hasClass("subcategs-tax")?parseInt(a.closest(".lscf-filter-field").attr("data-index")):parseInt(a.attr("data-index")),e=[],f=[],a.find(".lscf-field-option").each(function(a){var h=parseInt(c(this).attr("data-index"));if("taxonomies"==b.fieldsData.fields[g].group_type)if(d.hasClass("lscf-hierarchy-subfield")){if("undefined"!=typeof b.fieldsData.fields[g].tax.subcategs){var i=c(this).closest(".px_capf-field").attr("data-id").split("_-_"),j=b.fieldsData.fields[g].tax.subcategs;i=parseInt(i[1]),j.forEach(function(a,b){a.parent_id==i&&"undefined"!=typeof j[b]&&f.push(j[b].data[h])})}}else c(this).hasClass("lscf-hierarchy-subfield")||e.push(b.fieldsData.fields[g].tax.terms[h]);else"undefined"!=typeof b.fieldsData.fields[g].parent&&"undefined"!=typeof b.fieldsData.fields[g].parent.options?e.push(b.fieldsData.fields[g].parent.options[h]):e.push(b.fieldsData.fields[g].options[h])}),"taxonomies"==b.fieldsData.fields[g].group_type)if(d.hasClass("lscf-hierarchy-subfield")){if("undefined"!=typeof b.fieldsData.fields[g].tax.subcategs){var h=d.closest(".px_capf-field").attr("data-id").split("_-_"),i=b.fieldsData.fields[g].tax.subcategs;h=parseInt(h[1]),i.forEach(function(a,c){a.parent_id==h&&"undefined"!=typeof i[c]&&(b.fieldsData.fields[g].tax.subcategs[c].data=f)})}}else b.fieldsData.fields[g].tax.terms=e,b.fieldsData.fields[g].terms=e;else"undefined"!=typeof b.fieldsData.fields[g].parent&&"undefined"!=typeof b.fieldsData.fields[g].parent.options?(b.fieldsData.fields[g].parent.options=e,b.fieldsData.fields[g].group_type="cf_variation"):b.fieldsData.fields[g].options=e;b.updateFieldsDataOrder({saved_field_options:1},null),b.resetFieldOptionsIndex(a)},this.orderFieldsData=function(){var a=[];c(".lscf-filter-field").each(function(){var d=parseInt(c(this).attr("data-index"));a.push(b.fieldsData.fields[d])}),b.resetFieldsIndex(),b.fieldsData.fields=a,b.updateFieldsDataOrder({saved_field_options:1},null)},this.updateFieldsDataOrder=function(a,d){c.ajax({type:"POST",url:pxData.ajaxURL,data:{action:"lscf-administrator-ajax",section:"update-fields-order",options:a,fields:angular.toJson(b.fieldsData.fields),filter_id:b.fieldsData.filterID},success:function(a){null!==d&&d(a)},dataType:"html"})},this.resetFieldsIndex=function(){c(".lscf-filter-field").each(function(a){c(this).attr({"data-index":a})})},this.resetFieldOptionsIndex=function(a){a.find(".px_capf-field").each(function(){c(this).find(".lscf-field-option").each(function(a){c(this).attr({"data-index":a})})})},this.init=function(){clearInterval(a),c(".lscf-filter-field").addClass("lscf-draggable-field"),c(".subcategs-tax").fadeIn()}}!function(){$j=jQuery,$j(function(){var a=new customRange;a.init()})}();var adjustPostContainerHeight=new posts_block_container;adjustPostContainerHeight();var pxDecodeEntities=function(){function a(a){return a&&"string"==typeof a&&(a=a.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),a=a.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),b.innerHTML=a,a=b.textContent,b.textContent=""),a}var b=document.createElement("div");return a}(),lscfExtraFunctionalities=function(){var a,b=this,c=jQuery;return this.init=function(){c(window).load(function(){b.shakeSettingsButton()}),a=setInterval(function(){b.shakeSettingsButton()},7e3)},this.shakeSettingsButton=function(){return c(".lscf-open-customizer").hasClass("deactivate-animations")?void clearInterval(a):void(c(".lscf-sidebar-live-customizer").hasClass("active")||(c(".lscf-open-customizer").addClass("shake"),setTimeout(function(){c(".lscf-open-customizer").removeClass("shake")},1e3)))},this.init()}();